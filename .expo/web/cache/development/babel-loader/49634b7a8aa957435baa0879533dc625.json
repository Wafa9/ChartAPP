{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nimport React, { forwardRef, useCallback, useMemo, useRef } from 'react';\nimport { DataProvider, LayoutProvider, RecyclerListView } from 'recyclerlistview';\nimport inRange from 'lodash/inRange';\nimport constants from \"../commons/constants\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\n\nvar dataProviderMaker = function dataProviderMaker(items) {\n  return new DataProvider(function (item1, item2) {\n    return item1 !== item2;\n  }).cloneWithRows(items);\n};\n\nvar InfiniteList = function InfiniteList(props, ref) {\n  var renderItem = props.renderItem,\n      data = props.data,\n      _props$pageWidth = props.pageWidth,\n      pageWidth = _props$pageWidth === void 0 ? constants.screenWidth : _props$pageWidth,\n      _props$pageHeight = props.pageHeight,\n      pageHeight = _props$pageHeight === void 0 ? constants.screenHeight : _props$pageHeight,\n      onPageChange = props.onPageChange,\n      onReachEdge = props.onReachEdge,\n      onReachNearEdge = props.onReachNearEdge,\n      onReachNearEdgeThreshold = props.onReachNearEdgeThreshold,\n      _props$initialPageInd = props.initialPageIndex,\n      initialPageIndex = _props$initialPageInd === void 0 ? 0 : _props$initialPageInd,\n      extendedState = props.extendedState,\n      scrollViewProps = props.scrollViewProps;\n  var dataProvider = useMemo(function () {\n    return dataProviderMaker(data);\n  }, [data]);\n  var layoutProvider = useRef(new LayoutProvider(function () {\n    return 'page';\n  }, function (_type, dim) {\n    dim.width = pageWidth;\n    dim.height = pageHeight;\n  }));\n  var pageIndex = useRef();\n  var isOnEdge = useRef(false);\n  var isNearEdge = useRef(false);\n  var onScroll = useCallback(function (event, offsetX, offsetY) {\n    var newPageIndex = Math.round(event.nativeEvent.contentOffset.x / pageWidth);\n\n    if (pageIndex.current !== newPageIndex) {\n      if (pageIndex.current !== undefined) {\n        onPageChange == null ? void 0 : onPageChange(newPageIndex, pageIndex.current);\n        isOnEdge.current = false;\n        isNearEdge.current = false;\n\n        if (newPageIndex === 0 || newPageIndex === data.length - 1) {\n          isOnEdge.current = true;\n        } else if (onReachNearEdgeThreshold && !inRange(newPageIndex, onReachNearEdgeThreshold, data.length - onReachNearEdgeThreshold)) {\n          isNearEdge.current = true;\n        }\n      }\n\n      pageIndex.current = newPageIndex;\n    }\n\n    props.onScroll == null ? void 0 : props.onScroll(event, offsetX, offsetY);\n  }, [props.onScroll, onPageChange, data.length]);\n  var onMomentumScrollEnd = useCallback(function (event) {\n    if (isOnEdge.current) {\n      onReachEdge == null ? void 0 : onReachEdge(pageIndex.current);\n    } else if (isNearEdge.current) {\n      onReachNearEdge == null ? void 0 : onReachNearEdge(pageIndex.current);\n    }\n\n    scrollViewProps == null ? void 0 : scrollViewProps.onMomentumScrollEnd == null ? void 0 : scrollViewProps.onMomentumScrollEnd(event);\n  }, [scrollViewProps == null ? void 0 : scrollViewProps.onMomentumScrollEnd, onReachEdge, onReachNearEdge]);\n  var style = useMemo(function () {\n    return {\n      height: pageHeight\n    };\n  }, [pageHeight]);\n  return _jsx(RecyclerListView, {\n    ref: ref,\n    isHorizontal: true,\n    rowRenderer: renderItem,\n    dataProvider: dataProvider,\n    layoutProvider: layoutProvider.current,\n    extendedState: extendedState,\n    initialRenderIndex: initialPageIndex,\n    renderAheadOffset: 5 * pageWidth,\n    onScroll: onScroll,\n    style: style,\n    scrollViewProps: _objectSpread(_objectSpread({\n      pagingEnabled: true,\n      bounces: false\n    }, scrollViewProps), {}, {\n      onMomentumScrollEnd: onMomentumScrollEnd\n    })\n  });\n};\n\nexport default forwardRef(InfiniteList);","map":{"version":3,"sources":["/home/lamaaldohayan/Desktop/project/financeApp/node_modules/react-native-calendars/src/infinite-list/index.js"],"names":["React","forwardRef","useCallback","useMemo","useRef","DataProvider","LayoutProvider","RecyclerListView","inRange","constants","dataProviderMaker","items","item1","item2","cloneWithRows","InfiniteList","props","ref","renderItem","data","pageWidth","screenWidth","pageHeight","screenHeight","onPageChange","onReachEdge","onReachNearEdge","onReachNearEdgeThreshold","initialPageIndex","extendedState","scrollViewProps","dataProvider","layoutProvider","_type","dim","width","height","pageIndex","isOnEdge","isNearEdge","onScroll","event","offsetX","offsetY","newPageIndex","Math","round","nativeEvent","contentOffset","x","current","undefined","length","onMomentumScrollEnd","style","pagingEnabled","bounces"],"mappings":"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","sourcesContent":["// TODO: Make this a common component for all horizontal lists in this lib\nimport React, { forwardRef, useCallback, useMemo, useRef } from 'react';\nimport { DataProvider, LayoutProvider, RecyclerListView } from 'recyclerlistview';\nimport inRange from 'lodash/inRange';\nimport constants from '../commons/constants';\nconst dataProviderMaker = (items) => new DataProvider((item1, item2) => item1 !== item2).cloneWithRows(items);\nconst InfiniteList = (props, ref) => {\n    const { renderItem, data, pageWidth = constants.screenWidth, pageHeight = constants.screenHeight, onPageChange, onReachEdge, onReachNearEdge, onReachNearEdgeThreshold, initialPageIndex = 0, extendedState, scrollViewProps } = props;\n    const dataProvider = useMemo(() => {\n        return dataProviderMaker(data);\n    }, [data]);\n    const layoutProvider = useRef(new LayoutProvider(() => 'page', (_type, dim) => {\n        dim.width = pageWidth;\n        dim.height = pageHeight;\n    }));\n    const pageIndex = useRef();\n    const isOnEdge = useRef(false);\n    const isNearEdge = useRef(false);\n    const onScroll = useCallback((event, offsetX, offsetY) => {\n        const newPageIndex = Math.round(event.nativeEvent.contentOffset.x / pageWidth);\n        if (pageIndex.current !== newPageIndex) {\n            if (pageIndex.current !== undefined) {\n                onPageChange?.(newPageIndex, pageIndex.current);\n                isOnEdge.current = false;\n                isNearEdge.current = false;\n                if (newPageIndex === 0 || newPageIndex === data.length - 1) {\n                    isOnEdge.current = true;\n                }\n                else if (onReachNearEdgeThreshold && !inRange(newPageIndex, onReachNearEdgeThreshold, data.length - onReachNearEdgeThreshold)) {\n                    isNearEdge.current = true;\n                }\n            }\n            pageIndex.current = newPageIndex;\n        }\n        props.onScroll?.(event, offsetX, offsetY);\n    }, [props.onScroll, onPageChange, data.length]);\n    const onMomentumScrollEnd = useCallback(event => {\n        if (isOnEdge.current) {\n            onReachEdge?.(pageIndex.current);\n        }\n        else if (isNearEdge.current) {\n            onReachNearEdge?.(pageIndex.current);\n        }\n        scrollViewProps?.onMomentumScrollEnd?.(event);\n    }, [scrollViewProps?.onMomentumScrollEnd, onReachEdge, onReachNearEdge]);\n    const style = useMemo(() => {\n        return { height: pageHeight };\n    }, [pageHeight]);\n    return (<RecyclerListView ref={ref} isHorizontal rowRenderer={renderItem} dataProvider={dataProvider} layoutProvider={layoutProvider.current} extendedState={extendedState} initialRenderIndex={initialPageIndex} renderAheadOffset={5 * pageWidth} onScroll={onScroll} style={style} scrollViewProps={{\n            pagingEnabled: true,\n            bounces: false,\n            ...scrollViewProps,\n            onMomentumScrollEnd\n        }}/>);\n};\nexport default forwardRef(InfiniteList);\n"]},"metadata":{},"sourceType":"module"}